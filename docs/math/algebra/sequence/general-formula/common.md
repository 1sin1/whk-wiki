---
sidebar_position: 1
description: 了解求递推公式的最基本，最常见的做题策略．
---

# 基本求通项问题

## 先猜后证（数学归纳法）

:::info 例题 1

已知数列 $a$ 满足 $a_1 = 1$，$a_n = \sqrt{na_n} + \dfrac n {a_n}$，求 $a_n$．

:::

乍一看什么思路都没有，不妨算几个数．$a_1 = 1$，$a_2 = 2$，$a_3 = 3$……因此可以猜测 $a_n = n$．

**证明一个通项公式成立，一般采用数学归纳法**．

:::tip 例题 1 解答

证明 $a_n = n$ 对任意正整数 $n$ 都成立：

$n = 1$ 时 $a_1 = 1$，成立．

对任意 $k \in \N^\ast$，若 $a_k = k$，则 $a_{k + 1} = \sqrt{ka_k} + \dfrac k {a_k} = k + 1$．成立．

因此对所有 $n$ 均有 $a_n = n$，$a_n = n$ 为 $a$ 的通项公式，证毕．

:::

## 算术结构相同

如果题目给出的式子中，**数列每一项在式子中出现的结构相同**，可以考虑将这个结构本身 **设成新数列**．

:::caution 思想重要性提示

不局限于求通项，做各种数列问题时，这个思想都是 **非常常用，非常重要的**，请读者 **务必对算术结构相同敏感**．

:::

:::info 例题 2.1

已知 $a_1 = 2$，$\sqrt{2a_n} - \sqrt{2a_{n - 1}} = 1$，求 $a_n$．

:::

:::tip 例题 2.1 解答

设 $b_n = \sqrt{2a_n}$，则 $b_n - b_{n - 1} = 1$，$b$ 为公差为 $1$ 的等差数列．

$a_1 = 2$ 可知 $b_1 = 2$，因此 $b_n = n + 1$．

$a_n = \dfrac{{b_n}^2} 2$，即 $a_n = \dfrac{n^2 + 2n + 1}2$．

:::

:::info 例题 2.2

已知数列 $a$ 满足 $a_1 + 3a_2 + 5a_3 + \cdots + (2n - 1)a_n = 4n$，求 $a_n$．

:::

:::tip 例题 2.2 解答

设 $b_n = (2n - 1)a_n$，则题目相当于给出 $b$ 的前缀和 $S_n = 4n$．

差分可得 $b_n = 4$．因此 $a_n = \dfrac 4 {2n - 1}$．

:::

:::info 例题 2.3

已知正项数列 $a$ 满足 $2{a_n}^2 = {a_{n - 1}}^2 + {a_{n + 1}}^2$ 对任意 $n \in \N^\ast, n \ge 2$ 成立，$a_1 = 1$，$a_2 = 2$，求 $a_{100}$ 的值．

:::

:::tip 例题 2.3 解答

令 $b_n = {a_n}^2$，则有 $2b_n = b_{n - 1} + b_{n + 1}$，因此 $b$ 是等差数列．

而 $b_1 = {a_1}^2 = 1$，$b_2 = {a_2}^2 = 4$，可知 $b_n = 3n - 2$．

由于 $a$ 为正项数列，因此 $a_{100} = \sqrt{b_{100}} = \sqrt{98} = 7 \sqrt 2$．

:::

## 累加法 / 累乘法

如果题目给出的 $a$ 的递推公式 **形如** 或 **可以变形为** 这两种形式：

- $a_n - a_{n - 1} = f(n)$．
- $\dfrac{a_n}{a_{n - 1}} = f(n)$．

则前者相当于 **给出了 $a$ 的差分 $D$ 的通项公式**，后者相当于 **给出了 $a$ 的「比分」$R$ 的通项公式**．差分做前缀和，「比分」做前缀积，即可得到 $a$ 的通项公式．

:::info 例题 3.1

已知数列 $a$ 满足 $a_1 = 2$ 且 $a_{n + 1} = a_n + n + 1$，求 $a_n$．

:::

:::tip 例题 3.1 解答

条件变形得 $a_{n + 1} - a_n = n + 1$．

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 + (a_2 - a_1) + (a_3 - a_2) + \cdots + (a_n - a_{n - 1}) \\
&= 2 + 2 + 3 + \cdots + n \\
& = 2 + \dfrac{n^2 + n - 2} 2 \\
& = \dfrac{n^2 + n + 2} 2
\end{aligned}
$$

当 $n = 1$ 时，$a_1 = 2$ 符合上式．

因此 $a_n = \dfrac{n^2 + n + 2}2$．

:::

还记得这里为什么要分类讨论吗？其实是在[基础](../basics.md)讲过的内容，这里回顾一下：

> 这里分开算一下的目的是，$n = 1$ 时后面那个 $2 + \cdots + n$ 的 **数列为空**，数列为空的情形习惯上分类讨论一下，因为各种求和公式理论上都是在数列存在时推导的．
>
> 然而事实上，**等差数列和等比数列的求和公式在代入项数 $= 0$ 时计算出来的和均为 $0$**，是符合期望的，因此两种情况往往可以合并．

- 刚才又讲了个 **裂项求和**，那么题目就可以把数列的差分设计为可以裂项求和的分式．裂项和代入项数 $= 0$ 结果 **可能不为 $0$**，**结果可能不能合并**，是需要注意的．
- 而 **等差求和** 与 **等比求和** 最终 **基本是可以合并的**，然而在写过程时也需注意分开写，这是应试的要求．

:::info 例题 3.2

已知数列 $a$ 满足 $a_1 = 1$，$(n + 2)a_n = na_{n - 1}$，求 $a_n$．

:::

:::tip 例题 3.2 解答

容易看出 $a$ 不包含零，因此条件变形

$$
\dfrac{a_n}{a_{n - 1}} = \dfrac{n}{n + 2}
$$

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 \cdot \left(\dfrac{a_2}{a_1}\right) \cdot \left(\dfrac{a_3}{a_2}\right) \cdots \left(\dfrac{a_n}{a_{n - 1}}\right) \\
&= \dfrac 2 4 \times \dfrac 3 5 \times \cdots \times \dfrac{n}{n + 2} \\
&= \dfrac{2 \times 3 \times \cdots \times n}{4 \times 5 \times \cdots \times (n + 2)}
\end{aligned}
$$

这里可以直接约分理解，但是也有类似「裂项求和相消」的逻辑疏漏，存在 $n = 2$ 的边界情况．

此时可以考虑「滑动窗口商」：对任意非零数列 $b$，设 $[l, r]$ 为 $\prod_{i = l}^r b_i$，则

$$
\dfrac{[1, n]}{[k + 1, n + k]} = \dfrac{[1, k]}{[n + 1, n + k]}
$$

$\dfrac{2 \times 3 \times \cdots \times n}{4 \times 5 \times \cdots \times (n + 2)}$ 是一个窗口长度为 $n - 1$，偏移距离为 $2$ 的「滑动窗口商」，其等于窗口长度为 $2$，偏移距离为 $n - 1$ 的「滑动窗口商」，即 $\dfrac{2 \times 3}{(n + 1)(n + 2)} = \dfrac 6 {n^2 + 3n + 2}$．

$n = 1$ 时 $a_1 = 1$，符合上式．

因此 $a_n = \dfrac 6{n^2 + 3n + 2}$．

:::

最后再次注意 **算术结构相同** 思想的广泛性：如这种式子

$$
\dfrac 1 {a_n} - \dfrac 1 {a_{n - 1}} = n + 1
$$

应立刻注意到设 $b_n = \dfrac 1 {a_n}$，则 $b_n$ 差分可知，通项可求，进而 $a_n$ 通项也可求．

## 有提示构造

:::info 例题 4.1

数列 $a$ 满足 $a_1 = -\dfrac 1 2$，$2a_n = a_{n - 1} - n - 1$．

- （1）求证：$\{a_n + n\}$ 是等比数列．
- （2）求 $a_n$．

:::

如果没有第一问，直接求 $a$ 的通项，在不了解方法之前是比较困难的．而本题出题人通过设第一小问的方式，提示我们 **$\{a_n + n\}$ 是等比数列**．那么很明显．设 $b_n = a_n + n$，只要我们知道 $b$ 的首项与公比，则 $b$ 的通项可解；而 $b$ 的通项减去 $n$ 就是 $a$ 的通项了．

对于未知通项的 $a$，通过 **构造并证明** $a$ 衍生（换元）出的另一数列 $b$ 为 **可解通项数列** 的方式，从而获取 $b$ 的通项，反推 $a$ 的通项的方式称作 **构造法**．而上述题目通过设小问的方式，**直接提示了构造方向**．因此只需按部就班操作．

提示：读者需要对证明等比数列的操作异常熟悉，对此不熟悉的请见[判定等比数列](../gp.md#作比成常数判定等比数列)．

:::tip 例题 4.1 解答

（1）令 $b_n = a_n + n$，将条件向目标变形：

$$
2a_n = a_{n - 1} - n - 1 \iff 2a_n + 2n = a_{n - 1} + n - 1 \iff 2b_n = b_{n - 1} \iff b_n = \dfrac 1 2 b_{n - 1}
$$

验证可知 $b_1 = -\dfrac 1 2 + 1 = \dfrac 1 2 \ne 0$，公比 $\dfrac 1 2 \ne 0$，因此 $b$ 为首项 $\dfrac 1 2$，公比 $\dfrac 1 2$ 的等比数列．

（2）由（1）可知 $b_n = \dfrac 1 {2^n}$．

$b_n = a_n + n$，可知 $a_n = b_n - n = \dfrac 1 {2^n} - n$．

:::

:::info 例题 4.2

已知数列 $a$ 满足 $a_1 = 4$，$na_{n + 1} - (n + 1)a_n = 2n^2 + 2n$．

- （1）求证：数列 $\left\{\dfrac{a_n} n\right\}$ 是等差数列．
- （2）求 $a_n$．

:::

:::tip 例题 4.2 解答

（1）令 $b_n = \dfrac{a_n}n$，对条件同时除以 $n(n + 1)$ 可得

$$
\dfrac{a_{n + 1}}{n + 1} - \dfrac{a_n}n = 2
$$

即

$$
b_{n + 1} - b_n = 2
$$

可知 $b$ 为公差为 $2$ 的等差数列，证毕．

（2）$b_1 = \dfrac{a_1}1 = 4$，因此 $b_n = 2n + 2$．

$b_n = \dfrac{a_n}n$，可知 $a_n = nb_n = n(2n + 2) = 2n^2 + 2n$．

:::

没有第一问这种提示的构造会在[构造法求通项](./constructive.md)给出方法．

## 奇偶项数列

首先介绍两个套路．

- 数列 $a$ 中，如果对于任意 $n \in \N^\ast$ 有 $a_n + a_{n + 1} = f(n)$，则 $a_{n + 2} - a_n = f(n + 1) - f(n)$．
- 非零数列 $a$ 中，如果对于任意 $n \in \N^\ast$ 有 $a_na_{n + 1} = f(n)$，则 $\dfrac{a_{n + 2}}{a_n} = \dfrac{f(n + 1)}{f(n)}$．

以第一条为例说明：将 $a_{n + 1} + a_{n + 2} = f(n + 1)$ 与 $a_n + a_{n + 1} = f(n)$ 作差即得．

这两个套路说明：**邻项和** 可以转化为 **隔项差**，**邻项积** 可以转化为 **隔项商**．
