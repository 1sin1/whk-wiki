---
sidebar_position: 4
description: 了解求通项问题的做题技巧．
---

# 通项问题

## 前缀和通项问题

### 等差乘等比数列的前缀和

> 已知等比数列 $a$，公比 $q$，等差数列 $b$，公差 $d$，求 $\{a_n \cdot b_n\}$ 的前缀和 $S_n$．

这是一类套路题，属于必会类型，只需要按照下面的操作按部就班计算即可．

我们规定 $q \ne 1$（下面的操作会用到这个条件）．$q = 1$ 的情形与纯等差数列前缀和是一样的．

错位相减法：

$$
\begin{matrix}
S_n  & = & a_1 \cdot b_1 & + & a_2 \cdot b_2 & + & a_3 \cdot b_3 & + & \cdots & + & a_n \cdot b_n       &   & \\
qS_n & = &               &   & a_2 \cdot b_1 & + & a_3 \cdot b_2 & + & \cdots & + & a_n \cdot b_{n - 1} & + & a_{n + 1} \cdot b_n
\end{matrix}
$$

上减下（比下减上的负号少，更顺脑子）：

$$
(1 - q)S_n = a_1 \cdot b_1 - a_{n + 1} \cdot b_n + d(a_2 + a_3 + \cdots + a_n)
$$

$a_2 + a_3 + \cdots + a_n$ 可以使用等比数列求和公式：

$$
a_2 + a_3 + \cdots + a_n = a_1q \cdot \dfrac{q^{n - 1} - 1}{q - 1}
$$

这里有一个小细节：$n = 1$ 时 $a_2 + a_3 + \cdots + a_n$ 为空，习惯上分类讨论．然而等比等差数列求和公式代入项数 $=0$ 的结果为 $0$，所以不讨论也完全正确，在这类题型中一般省略这种讨论．

因此最后的式子就是

$$
(1 - q)S_n = a_1 \cdot b_1 - a_{n + 1} \cdot b_n + a_1dq \cdot \dfrac{q^{n - 1} - 1}{q - 1}
$$

最后将 $1 - q$ 除过去即可（**这步千万别忘了**）．

等差乘等比数列一般表现为 **一个一次函数乘上一个幂函数**，如 $\left\{(3n+1)2^n\right\}$，$\left\{\dfrac{n + 1}{2^n}\right\}$，求它们的前缀和要学会识别出是这种类型的问题．

:::info 例题 1.1

已知数列 $\{a_n\}$ 满足 $a_1 = 2$，$a_{m + n} = a_m + a_n, \quad m, n \in \N^\ast$，设 $b_n = \{\lfloor \log_2 a_n \rfloor\}$，$b$ 前缀和为 $S$，求：

（1）$S_{20}$ 的值．

（2）$\{S_{2^n}\}$ 的通项．

:::

:::tip 例题 1.1 解答

$a_{m + n} = a_m + a_n$ 等价于 $a$ 为首项与公差相等的等差数列，即 $a_n = 2n$．

考察 $b$ 数列的取值，容易发现 $b_n$ 的值为满足 $2^k \le a_n < 2^{k + 1}$ 的唯一正整数 $k$．

根据 $a_n = 2n$，又可知 $b_n$ 的值为满足 $2^{k - 1} \le n < 2^k$ 的唯一正整数 $k$．

即

- $2^0 \le n < 2^1$ 时，$b_n = 1$．
- $2^1 \le n < 2^2$ 时，$b_n = 2$．
- $2^2 \le n < 2^3$ 时，$b_n = 3$．
- $2^3 \le n < 2^4$ 时，$b_n = 4$．
- $2^4 \le n < 2^5$ 时，$b_n = 5$．
- ……

（1）

$S_{20}$ 的值为 $1 \times 1 + 2 \times 2 + 4 \times 3 + 8 \times 4 + 5 \times 5 = 74$．

（2）

考虑 $b_1$ 到 $b_{2^n}$ 的分布，其应为：$1$ 个 $1$，$2$ 个 $2$，$4$ 个 $3$，$8$ 个 $4$……$2^{n - 1}$ 个 $n$，以及 $1$ 个 $n + 1$．

最后的 $n + 1$ 拎出单算，前面的和构成一个等差乘等比数列的前缀和

$$
t = 1 \times 1 + 2 \times 2 + 4 \times 3 + \cdots + 2^{n - 1} \times n
$$

该式减去该式 $\times 2$ 的结果为

$$
\begin{aligned}
-t &= 1 \times 1 - 2^n \times n + 1 \times (2 + 4 + 8 + \cdots + 2^{n - 1}) \\
&= 1 - n \cdot 2^n + 2^n - 2 \\
&= (1 - n) \cdot 2^n - 1
\end{aligned}
$$

因此 $t = (n - 1) \cdot 2^n + 1$，$S_{2^n} = t + n + 1 = (n - 1) \cdot 2^n + n + 2$．

:::

### 高斯求和

其实这种问题跟数列没什么关系（只是运用了一下高斯求等差数列和的思想），很简单，直接上题．

:::info 例题 1.2

已知 $f(x) = \dfrac{4^x}{4^x + 2}$，求 $f(0) + f\left(\dfrac 1 {10}\right) + f\left(\dfrac 2 {10} \right) + \cdots + f\left(\dfrac 9 {10}\right) + f(1)$ 的值．

:::

:::tip 例题 1.2 解答

猜测：$f(x) + f(1 - x)$ 也是一个定值．

证明：

$$
\begin{aligned}
f(x) + f(1 - x) &= \dfrac{4^x}{4^x + 2} + \dfrac{4^{1 - x}}{4^{1 - x} + 2} \\[1em]
& = \dfrac{4^x}{4^x + 2} + \dfrac{4}{2 \cdot 4^x + 4} \\[1em]
& = \dfrac{4^x}{4^x + 2} + \dfrac{2}{4^x + 2} \\[1em]
& = 1
\end{aligned}
$$

确实是定值．

将所求的 $x$ 与 $1 - x$ 配对，可以发现共有 $5$ 对，中间剩余一个 $\dfrac 1 2$．

我们有 $f\left(\dfrac 1 2\right) + f\left(\dfrac 1 2\right) = 1$，因此 $f\left(\dfrac 1 2 \right) = \dfrac 1 2$．

所以答案是 $5 + \dfrac 1 2 = \dfrac{11}2$．

:::

还有一种题，如 $f(1) + f(2) + \cdots + f(100) + f\left(\dfrac 1 2\right) + f\left(\dfrac 1 3\right) + f\left(\dfrac 1 {100}\right)$ 的值，这种就是 $f(x)$ 和 $f\left(\dfrac 1 x\right)$ 配对了（有一个 $f(1)$ 需要单算）．

下面说一下这种函数的常见形态和构造方式：

- $f(x) + f\left(\dfrac 1 x\right) = \mathrm{const.}$：$f(x) = \dfrac{1}{x^n + 1}$ 和 $f(x) = \dfrac{x^n}{x^n + 1}$ 两类函数均满足此要求，其中 $n$ 取任意实数．
- $f(x) + f(a - x) = b = \mathrm{const.}$：等价于 $f$ 关于 $\left(\dfrac a 2, \dfrac b 2\right)$ 中心对称，取一个奇函数做平移即可．

### 裂项求和

裂项指的是对一类分式：**分母能因式分解为两不等项之积** 的分式——$\dfrac{a}{pq}$ 的处理策略（$p \ne q$）：

$$
\dfrac{a}{pq} = \dfrac a {q - p} \left(\dfrac 1 p - \dfrac 1 q \right)
$$

**括号外分式的形式** $\dfrac{分子}{分母差}$ 应当 **熟练掌握**，且括号外分母相减的顺序与括号内恰好 **相反**．

裂项相消是经典小学奥数题，但笔者其实并不喜欢用「相消」理解这类型题——因为「相消」容易消乱，而且它存在一些逻辑缺陷（后面会谈）．这里会采用另一种没有逻辑缺陷的方式——「滑动窗口」讲解．

对于一个数列 $a$，记 $[l, r]$ 为 $a$ 的区间和 $\sum_{i = l}^r a_i$，则 $\forall n, k \in \N ^ \ast$，我们有

$$
[1, n] - [k + 1, n + k] = [1, k] - [n + 1, n + k]
$$

这个式子很好证：$n$ 与 $k$ 地位完全相同，可以互相交换，而这个等式正是 $n$ 与 $k$ 互相交换的结果．

我们可以具象一下这个式子——一个数列 $a$ 上，有一个长度为 $n$ 的 **窗口**：

- **窗口可以展示 $a$ 的一个长度为 $n$ 的区间**，除了窗口展示的部分，其它部分均不可见．
- **窗口可以滑动**．窗口左端放在 $a_1$ 时，窗口展示的部分就是 $a_1, a_2, \ldots, a_n$；放在 $a_5$ 时，窗口展示的部分就是 $a_5, a_6, \ldots, a_{n + 4}$．
- 下称观测者 **通过窗口看到的区间和**，为 **窗口的区间和**．

那么，窗口在最左端时，窗口区间和就是 $[1, n]$；现在将窗口向右滑动 $k$ 个距离，此时窗口区间和就是 $[k + 1, n + k]$．两次窗口展示的区间和之差即 $[1, n] - [k + 1, n + k]$，我们称这个差值为「滑动窗口差」．

那么一开始的等式的含义就是：对于上述滑动窗口的过程，将 **窗口的长度** 与 **窗口的滑动距离** 交换，「滑动窗口差」不变．下面我们称这个结论为「滑动窗口定理」．

举例：现有一个数列 $a$，$(a_1 + a_2 + a_3) - (a_3 + a_4 + a_5)$ 就是窗口长度 $3$，滑动距离 $2$ 的「滑动窗口差」．根据「滑动窗口定理」，它的结果就等于窗口长度 $2$，滑动距离 $3$ 对应的「滑动窗口差」：$(a_1 + a_2) - (a_4 + a_5)$．

接下来我们会看到「滑动窗口定理」是如何在裂项中发挥作用的．

:::info 例题 1.3.1

求 $a_n = \dfrac 1 {n(n + 2)}$ 的前缀和．

:::

:::tip 例题 1.3.1 解答

对每个 $a_n$ 裂项：

$$
S_n = \dfrac 1 2\left(1 - \dfrac 1 3 + \dfrac 1 2 - \dfrac 1 4 + \cdots + \dfrac 1 n - \dfrac 1 {n + 2}\right)
$$

我们来看括号里的式子如何进一步化简：

$$
\begin{aligned}
& \phantom = 1 - \dfrac 1 3 + \dfrac 1 2 - \dfrac 1 4 + \cdots + \dfrac 1 n - \dfrac 1 {n + 2} \\
& = \left(1 + \dfrac 1 2 + \cdots + \dfrac 1 n\right) - \left(\dfrac 1 3 + \dfrac 1 4 + \cdots + \dfrac 1 {n + 2}\right) \\
& = 1 + \dfrac 1 2 - \left(\dfrac 1 {n + 1} + \dfrac 1 {n + 2} \right) \\
& = \cdots（可以继续化简，这里省略）
\end{aligned}
$$

:::

这里第一个等号我们 **将正与负分类开**，这是比混在一起相消更加清晰的，推荐读者使用．

而第二个等号就是「滑动窗口定理」的使用：

$$
\left(1 + \dfrac 1 2 + \cdots + \dfrac 1 n\right) - \left(\dfrac 1 3 + \dfrac 1 4 + \cdots + \dfrac 1 {n + 2}\right)
$$

可以理解为数列 $b_i = \left\{\dfrac 1 i \right\}$ 的窗口长度为 $n$，滑动距离为 $2$ 的「滑动窗口差」．根据「滑动窗口定理」，它的结果就是长度为 $2$，滑动距离为 $n$ 的「滑动窗口差」：

$$
\left(1 + \dfrac 1 2\right) - \left(\dfrac 1 {n + 1} + \dfrac 1 {n + 2}\right)
$$

:::note 用相消理解的缺陷

来看这一步：

$$
\begin{aligned}
& \phantom = \left(1 + \dfrac 1 2 + \cdots + \dfrac 1 n\right) - \left(\dfrac 1 3 + \dfrac 1 4 + \cdots + \dfrac 1 {n + 2}\right) \\
& = 1 + \dfrac 1 2 - \left(\dfrac 1 {n + 1} + \dfrac 1 {n + 2} \right)
\end{aligned}
$$

这是一个长度为 $n$，滑动距离为 $2$ 的「滑动窗口定理」的使用，但在实际教学中，一般会称这一步是「相消」的体现．

在相消法中的解释是：两个括号内重叠的部分 $\dfrac 1 3 + \dfrac 1 4 + \cdots + \dfrac 1 n$ 可以消去，只剩下了 $1 + \dfrac 1 2 - \left(\dfrac 1 {n + 1} + \dfrac 1 {n + 2} \right)$．

事实上这个解释在 $n > 2$ 时都没有任何问题；$n = 2$ 时，上面的重叠部分不存在，剩下的结构正好是 $1 + \dfrac 1 2 - \left(\dfrac 1 {n + 1} + \dfrac 1 {n + 2} \right)$，所以也没问题．但 $n$ 更小的情况呢？

$n = 1$ 时的结果是

$$
\begin{aligned}
2S_1 & =  1 - \dfrac 1 3 \\
& = 1 + \dfrac 1 2 - \left(\dfrac 1 2 + \dfrac 1 3 \right)
\end{aligned}
$$

发现了吗？相消已经不能解释第二个等号是怎么来的了，因为此时已经不是「消」而是「补」了．

这里滑动距离为 $2$，所以只有 $S_1$ 出问题．可以试想一下，如果滑动距离为 $k = 100$，那么相消也只能解释 $S_{100}$ 及更往后的前缀和，而对 $S_{99}$ 以前的前缀和也存在解释的不充分．

这就是相消法的逻辑疏漏所在了，而「滑动窗口」中窗口长度与滑动距离都是可以在正整数集任意选取的，因此「滑动窗口」可以没有纰漏地解释这个等式．

:::

:::info 例题 1.3.2

已知 $a$ 的通项公式为 $a_n = 3 \cdot 4 ^{n - 1}$，$a$ 的前缀和为 $S_n$，$b_n = \dfrac{a_{n + 1}}{(a_{n + 1} - 3)S_{n + 1}}$，求 $b$ 的前缀和 $T_n$．

:::

:::tip 例题 1.3.2 解答

$a$ 是首项 $a_1 = 3$，公比 $q = 4$ 的等比数列，因此

$$
S_n = a_1 \cdot \dfrac{q^n - 1}{q - 1} = 4^n - 1
$$

因此

$$
b_n = \dfrac{3 \cdot 4^n}{(3 \cdot 4^n - 3)(4^{n + 1} - 1)}
$$

**这个形式已经可以裂项了，因为分母写成了两项之积**．部分读者可能还有对裂项只能解决 $\dfrac 1 {(2n - 1)(2n + 1)}$ 这种式子的刻板印象，是时候打破了！

但是先别急着裂项，这个形式裂项之后后面做不下去．这里分子分母可以同时约去 $3$：

$$
b_n = \dfrac{4^n}{(4^n - 1)(4^{n + 1} - 1)}
$$

现在就可以开始裂项了，记住提出的系数是 $\dfrac{分子}{分母差}$，先计算一下：

$$
\dfrac{4^n}{(4^{n + 1} - 1) - (4^n - 1)} = \dfrac{4^n}{4^{n + 1} - 4^n} = \dfrac{1}{4 - 3} = \dfrac 1 3
$$

因此 $b_n$ 裂项的结果是：

$$
b_n = \dfrac 1 3 \left(\dfrac 1 {4^n - 1} - \dfrac 1 {4^{n + 1} - 1}\right)
$$

也可以写成

$$
3b_n = \dfrac 1 {4^n - 1} - \dfrac 1 {4^{n + 1} - 1}
$$

现在可以开始求 $T_n$ 了，这里求和就按照正负分类来写：

$$
3T_n = \left(\dfrac 1 {4 - 1} + \dfrac 1 {4^2 - 1} + \cdots + \dfrac 1 {4^n - 1}\right) - \left(\dfrac 1 {4^2 - 1} + \dfrac 1 {4^3 - 1} + \cdots + \dfrac 1 {4^{n + 1} - 1}\right)
$$

「滑动窗口定理」：

$$
3T_n = \dfrac 1 3 - \dfrac 1 {4^{n + 1} - 1}
$$

即

$$
T_n = \dfrac 1 9 - \dfrac 1 {3 \cdot 4^{n + 1} - 3}
$$

化简到这里就可以了，不用再通分了．

:::

**分母写成两项之积的分式一定可以裂项，但并不是所有这样的分式裂项之后都适合求和**．

适合裂项求和的分式还应具备两个条件：

- $\dfrac{分子}{分母差}$ 是一个 **与 $n$ 无关的常数**．这是为了裂项求和时 $\dfrac{分子}{分母差}$ 可 **作为公因式直接提出来**．
- 裂项形成的两个分母 **能分别表示为某个数列的第 $n$ 项和第 $n + k$ 项，$k$ 是一个常数**．这是为了裂项求和正负分类后构成 **某数列的「滑动窗口差」** 的形式．

举个例子．上面例题中的数列

$$
\dfrac{4^n}{(4^n - 1)(4^{n + 1} - 1)}
$$

这个形式是适合裂项求和的，因为：

- $\dfrac{分子}{分母差} = \dfrac 1 3$，为与 $n$ 无关的常数．
- 两个分母 $4^n - 1$ 与 $4^{n + 1} - 1$ 显然可以写成数列 $\{4^n - 1\}$ 的第 $n$ 项与第 $n + 1$ 项．

而这个形式

$$
\dfrac{3 \cdot 4^n}{(3 \cdot 4^n - 3)(4^{n + 1} - 1)}
$$

- $\dfrac{分子}{分母差}$ 无法化简为常数．
- $3 \cdot 4^n - 3$ 与 $4^{n + 1} - 1$ 很难写成同一个数列的两项．

因此这个形式不适合裂项，应将分子与分母中左侧括号同时约去一个 $3$ 后，转化为上面的形式再裂项．

## 已知递推公式求通项

### 先猜后证（数学归纳法）

:::info 例题 2.1

已知数列 $a$ 满足 $a_1 = 1$，$a_n = \sqrt{na_n} + \dfrac n {a_n}$，求 $a_n$．

:::

乍一看什么思路都没有，不妨算几个数．$a_1 = 1$，$a_2 = 2$，$a_3 = 3$……因此可以猜测 $a_n = n$．

**证明一个通项公式成立，一般采用数学归纳法**．

:::tip 例题 2.1 解答

证明 $a_n = n$ 对任意正整数 $n$ 都成立：

$n = 1$ 时 $a_1 = 1$，成立．

对任意 $k \in \N^\ast$，若 $a_k = k$，则 $a_{k + 1} = \sqrt{ka_k} + \dfrac k {a_k} = k + 1$．成立．

因此对所有 $n$ 均有 $a_n = n$，$a_n = n$ 为 $a$ 的通项公式，证毕．

:::

### 算术结构相同

如果题目给出的式子中，**数列每一项在式子中出现的结构相同**，可以考虑将这个结构本身 **设成新数列**．

:::caution 思想重要性提示

不局限于求通项，做各种数列问题时，这个思想都是 **非常常用，非常重要的**，请读者 **务必对算术结构相同敏感**．

:::

:::info 例题 2.2.1

已知 $a_1 = 2$，$\sqrt{2a_n} - \sqrt{2a_{n - 1}} = 1$，求 $a_n$．

:::

:::tip 例题 2.2.1 解答

设 $b_n = \sqrt{2a_n}$，则 $b_n - b_{n - 1} = 1$，$b$ 为公差为 $1$ 的等差数列．

$a_1 = 2$ 可知 $b_1 = 2$，因此 $b_n = n + 1$．

$a_n = \dfrac{{b_n}^2} 2$，即 $a_n = \dfrac{n^2 + 2n + 1}2$．

:::

:::info 例题 2.2.2

已知数列 $a$ 满足 $a_1 + 3a_2 + 5a_3 + \cdots + (2n - 1)a_n = 4n$，求 $a_n$．

:::

:::tip 例题 2.2.2 解答

设 $b_n = (2n - 1)a_n$，则题目相当于给出 $b$ 的前缀和 $S_n = 4n$．

差分可得 $b_n = 4$．因此 $a_n = \dfrac 4 {2n - 1}$．

:::

:::info 例题 2.2.3

已知正项数列 $a$ 满足 $2{a_n}^2 = {a_{n - 1}}^2 + {a_{n + 1}}^2$ 对任意 $n \in \N^\ast, n \ge 2$ 成立，$a_1 = 1$，$a_2 = 2$，求 $a_{100}$ 的值．

:::

:::tip 例题 2.2.3 解答

令 $b_n = {a_n}^2$，则有 $2b_n = b_{n - 1} + b_{n + 1}$，因此 $b$ 是等差数列．

而 $b_1 = {a_1}^2 = 1$，$b_2 = {a_2}^2 = 4$，可知 $b_n = 3n - 2$．

由于 $a$ 为正项数列，因此 $a_{100} = \sqrt{b_{100}} = \sqrt{98} = 7 \sqrt 2$．

:::

### 累加法 / 累乘法

如果题目给出的 $a$ 的递推公式 **形如** 或 **可以变形为** 这两种形式：

- $a_n - a_{n - 1} = f(n)$．
- $\dfrac{a_n}{a_{n - 1}} = f(n)$．

则前者相当于 **给出了 $a$ 的差分 $D$ 的通项公式**，后者相当于 **给出了 $a$ 的「比分」$R$ 的通项公式**．差分做前缀和，「比分」做前缀积，即可得到 $a$ 的通项公式．

:::info 例题 2.3.1

已知数列 $a$ 满足 $a_1 = 2$ 且 $a_{n + 1} = a_n + n + 1$，求 $a_n$．

:::

:::tip 例题 2.3.1 解答

条件变形得 $a_{n + 1} - a_n = n + 1$．

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 + (a_2 - a_1) + (a_3 - a_2) + \cdots + (a_n - a_{n - 1}) \\
&= 2 + 2 + 3 + \cdots + n \\
& = 2 + \dfrac{n^2 + n - 2} 2 \\
& = \dfrac{n^2 + n + 2} 2
\end{aligned}
$$

当 $n = 1$ 时，$a_1 = 2$ 符合上式．

因此 $a_n = \dfrac{n^2 + n + 2}2$．

:::

还记得这里为什么要分类讨论吗？其实是在[基础](./basics.md)讲过的内容，这里回顾一下：

> 这里分开算一下的目的是，$n = 1$ 时后面那个 $2 + \cdots + n$ 的 **数列为空**，数列为空的情形习惯上分类讨论一下，因为各种求和公式理论上都是在数列存在时推导的．
>
> 然而事实上，**等差数列和等比数列的求和公式在代入项数 $= 0$ 时计算出来的和均为 $0$**，是符合期望的，因此两种情况往往可以合并．

- 刚才又讲了个 **裂项求和**，那么题目就可以把数列的差分设计为可以裂项求和的分式．裂项和代入项数 $= 0$ 结果 **可能不为 $0$**，**结果可能不能合并**，是需要注意的．
- 而 **等差求和** 与 **等比求和** 最终 **基本是可以合并的**，然而在写过程时也需注意分开写，这是应试的要求．

:::info 例题 2.3.2

已知数列 $a$ 满足 $a_1 = 1$，$(n + 2)a_n = na_{n - 1}$，求 $a_n$．

:::

:::tip 例题 2.3.2 解答

容易看出 $a$ 不包含零，因此条件变形

$$
\dfrac{a_n}{a_{n - 1}} = \dfrac{n}{n + 2}
$$

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 \cdot \left(\dfrac{a_2}{a_1}\right) \cdot \left(\dfrac{a_3}{a_2}\right) \cdots \left(\dfrac{a_n}{a_{n - 1}}\right) \\
&= \dfrac 2 4 \times \dfrac 3 5 \times \cdots \times \dfrac{n}{n + 2} \\
&= \dfrac{2 \times 3 \times \cdots \times n}{4 \times 5 \times \cdots \times (n + 2)}
\end{aligned}
$$

这里可以直接约分理解，但是也有类似「裂项求和相消」的逻辑疏漏，存在 $n = 2$ 的边界情况．

此时可以考虑「滑动窗口商」：对任意非零数列 $b$，设 $[l, r]$ 为 $\prod_{i = l}^r b_i$，则

$$
\dfrac{[1, n]}{[k + 1, n + k]} = \dfrac{[1, k]}{[n + 1, n + k]}
$$

$\dfrac{2 \times 3 \times \cdots \times n}{4 \times 5 \times \cdots \times (n + 2)}$ 是一个窗口长度为 $n - 1$，偏移距离为 $2$ 的「滑动窗口商」，其等于窗口长度为 $2$，偏移距离为 $n - 1$ 的「滑动窗口商」，即 $\dfrac{2 \times 3}{(n + 1)(n + 2)} = \dfrac 6 {n^2 + 3n + 2}$．

$n = 1$ 时 $a_1 = 1$，符合上式．

因此 $a_n = \dfrac 6{n^2 + 3n + 2}$．

:::

最后再次注意 **算术结构相同** 思想的广泛性：如这种式子

$$
\dfrac 1 {a_n} - \dfrac 1 {a_{n - 1}} = n + 1
$$

应立刻注意到设 $b_n = \dfrac 1 {a_n}$，则 $b_n$ 通项可求，$a_n$ 通项为 $b_n$ 通项也可求．

### 构造法 - 构造类型已知

:::info 例题 2.4.1

数列 $a$ 满足 $a_1 = -\dfrac 1 2$，$2a_n = a_{n - 1} - n - 1$．

- （1）求证：$\{a_n + n\}$ 是等比数列．
- （2）求 $a_n$．

:::

如果没有第一问，直接求 $a$ 的通项，在不了解方法之前是比较困难的．而本题出题人通过设第一小问的方式，提示我们 **$\{a_n + n\}$ 是等比数列**．那么很明显．设 $b_n = a_n + n$，只要我们知道 $b$ 的首项与公比，则 $b$ 的通项可解；而 $b$ 的通项减去 $n$ 就是 $a$ 的通项了．

对于未知通项的 $a$，通过 **构造并证明** $a$ 衍生出的另一数列 $b$ 为 **等比数列 / 等差数列** 的方式，从而获取 $b$ 的通项，反推 $a$ 的通项的方式称作 **构造法**．而上述题目通过设小问的方式，**直接提示了构造方向**．因此只需按部就班操作．

提示：读者需要对证明等比数列的操作异常熟悉，对此不熟悉的请见[判定等比数列](./gp.md#作比成常数判定等比数列)．

:::tip 例题 2.4.1 解答

（1）令 $b_n = a_n + n$，将条件向目标变形：

$$
2a_n = a_{n - 1} - n - 1 \iff 2a_n + 2n = a_{n - 1} + n - 1 \iff 2b_n = b_{n - 1} \iff b_n = \dfrac 1 2 b_{n - 1}
$$

验证可知 $b_1 = -\dfrac 1 2 + 1 = \dfrac 1 2 \ne 0$，公比 $\dfrac 1 2 \ne 0$，因此 $b$ 为首项 $\dfrac 1 2$，公比 $\dfrac 1 2$ 的等比数列．

（2）由（1）可知 $b_n = \dfrac 1 {2^n}$．

$b_n = a_n + n$，可知 $a_n = b_n - n = \dfrac 1 {2^n} - n$．

:::

:::info 例题 2.4.2

已知数列 $a$ 满足 $a_1 = 4$，$na_{n + 1} - (n + 1)a_n = 2n^2 + 2n$．

- （1）求证：数列 $\left\{\dfrac{a_n} n\right\}$ 是等差数列．
- （2）求 $a_n$．

:::

:::tip 例题 2.4.2 解答

（1）令 $b_n = \dfrac{a_n}n$，对条件同时除以 $n(n + 1)$ 可得

$$
\dfrac{a_{n + 1}}{n + 1} - \dfrac{a_n}n = 2
$$

即

$$
b_{n + 1} - b_n = 2
$$

可知 $b$ 为公差为 $2$ 的等差数列，证毕．

（2）$b_1 = \dfrac{a_1}1 = 4$，因此 $b_n = 2n + 2$．

$b_n = \dfrac{a_n}n$，可知 $a_n = nb_n = n(2n + 2) = 2n^2 + 2n$．

:::
