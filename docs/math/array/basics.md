---
sidebar_position: 1
description: 了解数列相关的基础概念．
---

# 数列基础

## 数列基本概念

- **数列** 是按照一定次序排列的一列数．
- 数列中每一个数称作这个数列的一个 **项**，第一项称作 **首项**，最后一项称作 **末项**．
- 组成数列的数的个数称作 **项数**，项数有限的数列称作 **有穷数列**，项数无穷的数列称作 **无穷数列**．无穷数列没有末项．
- **未指明项数有限的数列，均默认为无穷数列**．

数列从首项起，每一项都与正整数对应．数列的一般形式可以写作

$$
a_1, a_2, a_3, \ldots, a_n, \ldots
$$

其中 $a_n$ 表示数列的第 $n$ 项（$n$ 称作 $a_n$ 的 **序号（或下标）**，有 $n \in \N^\ast$），称作数列的 **通项**．此时，整个数列可以简记作 $\{a_n\}$ 或 $a$（卷子上写前者）．

:::note 区别数列与集合

- 数列具有 **有序性**，而集合具有 **无序性**．$1, 2, 3$ 与 $2, 3, 1$ 不是同一数列，但 $\{1, 2, 3\}$ 与 $\{2, 3, 1\}$ 是同一集合．
- 数列具有 **可重性**，而集合具有 **互异性**．允许 $1, 2, 1$ 这样的数列，但不允许 $\{1, 2, 1\}$ 这样的集合．
- $\{a_n\}$ 中的大括号与集合中的大括号没有任何联系．

:::

一般地，如果数列的第 $n$ 项 $a_n$ 与 $n$ 之间的关系可以用

$$
a_n = f(n)
$$

来表示，其中 $f(n)$ 是关于 $n$ 而不含其它未知数（可含参）的表达式，则 $f(n)$ 称作数列 $a$ 的一个 **通项公式**．显然，通项公式已知的数列可以直接写出数列中的任意一项，即 **通项公式确定，则数列确定**．

:::note 所有的数列都有通项公式吗？

这个问题的答案并不明确，取决于对公式的定义．如果这道题在读者的同步练习册或同步考试中出现，**推荐判否**．高考不会出这种题，无需纠结．

:::

数列的通项公式可能不唯一．如数列 $-1, 1, -1, 1, \ldots$ 就存在多个通项公式，其中的两个为：

- $a_n = (-1)^n$．
- $a_n = \cos n \pi$．

可以看到两个公式并不相同，它们只是在所有正整数点都正好相等而已．

## 函数解决数列问题

:::info 例题 2

若数列 $a$ 的通项 $a_n = -2n^2 + 29n + 3$，求此数列的最大项．

:::

:::tip 例题 2 解答

问题等价于求函数 $a(n) = -2n^2 + 29n + 3, \quad n \in \N^\ast$ 的最大值．

考虑构造函数 $f(x) = -2x^2 + 29x + 3,\quad x \in \R$．根据二次函数的性质可得，它的最大值在对称轴 $x = \dfrac{29}4$ 取到．

而 $a(n)$ 的定义域是 $f(x)$ 定义域的正整数子集，因此 $a(n)$ 的最大值点在距离 $\dfrac{29}4$ 最近的整点取到，即 $n = 7$ 取到．

计算可知 $a_7 = 108$，其为数列最大项．

:::

上面的例题启示我们：数列 $a$ 可以视作定义域为 $\N^\ast$ 的函数 $a(n)$．从而再构造一个解析式与其相同，但定义域扩展到 $\R$ 的函数 $f(x)$．如果 $f(x)$ 的性质已知，就可以推广到 $a(n)$ 上，进而探究数列 $a$ 的性质．

但需要注意的是，$f(x)$ 与 $a(n)$ 不是一个函数，信息不能简单的挪用，需要做一定的处理．如上面的例题中，不应将 $f(x)$ 的最大值直接当作答案．

## 数列的单调性

数列的单调性分为四类：

- **递增数列**：满足 $\forall n \in \N^\ast$，$a_n < a_{n + 1}$ 的数列 $a$．
- **递减数列**：$\forall n \in \N^\ast$，$a_n > a_{n + 1}$ 的数列 $a$．
- **常数列**：$\forall n \in \N^\ast$，$a_n = a_{n + 1}$ 的数列 $a$．
- **摆动数列**：不为上面三种数列的数列均称作摆动数列．

数列的单调性证明比函数简单许多．以递增为例：

- 数列上只需证明 $a_{n + 1} > a_n$ 对任意 $n \in \N^\ast$ 都成立．
- 函数上需要在定义域 $I$ 内任取 $x_1 < x_2$，证明 $f(x_1) < f(x_2)$．

这种难度上的差异正是由数列的离散性造成的．

:::info 例题 3.1

已知数列 $a$ 的通项公式为 $a_n = 2n^2 - 3n$，判断 $a$ 的增减性．

:::

:::tip 例题 3.1 解答

$a_{n + 1} - a_n = 4n - 1$．因为 $n \in \N^\ast$，因此 $4n - 1 > 0$，$a$ 递增．

:::

:::info 例题 3.2

已知数列 $a$ 的通项公式为 $a_n = n^2 + \lambda n$，若 $a$ 递增，求 $\lambda$ 的取值范围．

:::

:::tip 例题 3.2 解答

$a_{n + 1} - a_n = 2n + 1 + \lambda$．则条件等价于

$$
f(n) = 2n + 1 + \lambda, \quad n \in \N^\ast
$$

恒 $> 0$．

该函数的最小值在 $n = 1$ 取到，只需令 $3 + \lambda > 0$，解得 $\lambda > -3$．

:::

::::danger 例题 3.2 错误解答示例

刻画函数 $f(x) = x^2 + \lambda x$，条件等价于函数在 $x \ge 1$ 时递增．

即函数对称轴 $-\dfrac{\lambda}2 \le 1$，解得 $\lambda \ge -2$．

:::note 错因

条件并不等价于函数在 $x \ge 1$ 时递增，只等价于 $f(1), f(2), f(3), \ldots$ 这些离散点递增．**前者比后者强**．前者忽略了 $x \ge 1$ 时并不递增，但是对称轴在 $x = 1$ 与 $x = 2$ 之间，且更靠近 $x = 1$ 的情况．

即真正等价的表述应当是对称轴 $-\dfrac{\lambda}2 < \dfrac 3 2$，解得 $\lambda > -3$．

错因总结：忽略了连续函数与离散数列的不同．

:::

::::

数列增减性相关问题一般有定义法与函数法两种方法．考虑到前者适用范围是后者的超集，并且后者容易出现「忽略离散性」的错误，笔者推荐：除非函数真的可以一眼看出答案（如例 3.1 可以一眼看出对称轴为 $\dfrac 3 4$ 从而证明递增），永远更推荐使用 **定义法**．

我们还可以用增减性解决最大项 / 最小项问题．

:::info 例题 3.3

已知数列 $a$ 的通项公式为 $a_n = (n + 1)\left(\dfrac{9}{10}\right)^n$，求 $a$ 的最大项．

:::

:::tip 例题 3.3 解答

$$
\begin{aligned}
f(n) = a_{n + 1} - a_n &= (n + 2)\left(\dfrac{9}{10}\right)^{n + 1} - (n + 1)\left(\dfrac 9{10}\right)^n \\
&= \left(\dfrac 9 {10}\right)^n\left[\dfrac 9 {10}(n + 2) - (n + 1)\right] \\
&= \dfrac{8 - n}{10} \cdot \left(\dfrac 9 {10}\right)^n
\end{aligned}
$$

在 $n \in \N^\ast$ 的情况下：

- $1 \le n \le 7$ 时，$f(n) > 0 \implies a_{n + 1} > a_n \implies a$ 递增．
- $n = 8$ 时，$f(n) = 0 \implies a_{n + 1} = a_n$．
- $n \ge 9$ 时，$f(n) < 0 \implies a_{n + 1} < a_n \implies a$ 递减．

即

$$
a_1 < a_2 < \cdots < a_7 < a_8 = a_9 > a_{10} > a_{11} > \cdots
$$

因此数列的最大项应为第 $8$ 项和第 $9$ 项．

:::

## 递推公式

通项公式可以确定一个数列．下面的方式也可以确定一个数列：

- 给定数列的前 $k$ 项．
- 对于任意 $n \ge k + 1$，有 $a_n = f(a_{n - 1}, a_{n - 2}, \ldots, a_{n - k})$．

此时我们称这个数列为一个 $k$ **阶递推数列**，$a_n = f(a_{n - 1}, a_{n - 2}, \ldots, a_{n - k})$ 称作数列的 **递推公式**．

:::info 例题 4.1

在数列 $a$ 中，$a_1 = 1$，$a_2 = \dfrac 2 3$，且 $\dfrac{1}{a_{n - 2}} + \dfrac{1}{a_n} = \dfrac{2}{a_{n - 1}}, \quad n \ge 3, n \in \N^\ast$，求 $a_4$．

:::

:::tip 例题 4.1 解答

本题将递推公式做了一些包装，为了方便计算我们做一些变形．最方便的变形策略是将它变形为

$$
\dfrac{1}{a_n} = \dfrac{2}{a_{n - 1}} - \dfrac{1}{a_{n - 2}}
$$

- 将包含 $a_n$ 的项放在前面，递推前项放在后面．
- 不需要一定转成 $a_n = \cdots$ 的形式，上面的式子已经足够方便做题，接着变形代入计算反而更麻烦．

简单计算可得 $a_4 = \dfrac 5 2$．

读者学到后面也可以发现这个数列其实是等差数列的倒数，因此答案可以更快得到，不过这是后话了．

:::

:::info 例题 4.2

已知数列 $a$ 中，$a_1 = 3$，$a_2 = 6$，$a_n = a_{n - 1} - a_{n - 2},\quad n \ge 3, n \in \N^\ast$，求 $a_{660}$．

:::

:::tip 例题 4.2 解答

$$
a_1 = 3, a_2 = 6, a_3 = 3, a_4 = -3, a_5 = -6, a_6 = -3, a_7 = 3, a_8 = 6, \ldots
$$

算到这就可以停了，因为该数列是一个二阶递推数列，而 $a_7 = a_1$，$a_8 = a_2$，这就一定意味着 $a_9 = a_3$，$a_{10} = a_4$……于是整个数列是一个周期为 $6$ 的循环数列，$660 \bmod 6 = 0$，因此 $a_{660} = a_6 = -3$．

:::

对于乍一看没什么通项规律的递推数列，还要求很后的项的，可能是周期数列．我们从 $a_1$ 一项一项往后算，**对于 $k$ 阶递推数列，只要有相邻的 $k$ 项与先前相邻 $k$ 项相同，就说明出现循环**．此时不必再往后算，运用周期解答即可．

递推公式分段的数列也可能是周期数列．如

$$
a_n = \begin{cases}
2a_n, &0 \le a_n < \dfrac 1 2 \\
2a_n - 1, & \dfrac 1 2 \le a_n < 1
\end{cases}
$$

且 $a_1 = \dfrac 6 7$．该数列是一个周期为 $3$ 的数列．

## 前缀和与差分

对一个数列 $a$，其可以生成两个数列：

$$
S\colon S_n = \sum_{i = 1}^n a_i = S_{n - 1} + a_n
$$

称 $S$ 为 $a$ 的 **前 $n$ 项和**．后面称之为 **前缀和**，且记 $S(a)$ 为 $a$ 的前缀和．

$$
D \colon D_n = \begin{cases}
a_1, & n = 1 \\
a_n - a_{n - 1}, & n \ge 2
\end{cases}
$$

称 $D$ 为 $a$ 的 **差分**，且记 $D(a)$ 为 $a$ 的差分．

结论：**前缀和** 与 **差分** 为一对逆运算，即

$$
S(a) = b \iff D(b) = a
$$

证明比较简单，读者可以自行尝试．

:::info 例题 5.1

已知数列 $a$ 的前 $n$ 项和为 $S$，且 $\log_2(S_n + 1) = n + 1(n \in \N^\ast)$，求 $a_n$．

:::

本题是一道给 $S$ 求 $a$ 的题目．因为前缀和与差分是一对逆运算，我们对 $S$ 求差分即为 $a$．

:::tip 例题 5.1 解答

条件变形得 $S_n = 2^{n + 1} - 1$．

当 $n = 1$ 时，$a_1 = S_1 = 3$．

当 $n \ge 2$ 时，$a_n = S_n - S_{n - 1} = 2^n$．

因此

$$
a_n = \begin{cases}
3, & n = 1 \\
2^n & n \ge 2
\end{cases}
$$

**这里要注意一下两种情况能不能合并，能合并的时候不合并在某些地区会扣分**．本题中两种情况不能合并（$2^1 \ne 3$），因此答案就是分段的．

:::

已知 $S(a)$ 还可以求 $a$ 的 **区间和**，即 $\sum_{i = l}^r a_i$．我们有

$$
\sum_{i = l}^r a_i = S_r - S_{l - 1}, \quad l \ne 1
$$

例题就不放了，有印象即可．

:::info 例题 5.2

已知各项为负数的数列 $a$ 的前 $n$ 项和为 $S_n$，且 $2S_n = a_n - {a_n}^2$，求数列 $a$ 的通项公式．

:::

:::tip 例题 5.2 解答

$n = 1$ 时，$2a_1 = a_1 - {a_1}^2$，解得 $a_1 = -1$ 或 $a_1 = 0$（舍，$a$ 各项均为负数）．

$n \ge 2$ 时，考虑到

$$
\begin{aligned}
2S_n &= a_n - {a_n}^2 \\
2S_{n - 1} &= a_{n - 1} - {a_{n - 1}}^2
\end{aligned}
$$

两式相减得

$$
2a_n = a_n - {a_n}^2 - a_{n - 1} + {a_{n - 1}}^2
$$

即

$$
a_n + {a_n}^2 + a_{n - 1} - {a_{n - 1}}^2 = 0
$$

左侧可以因式分解．

$$
(a_n + a_{n - 1})(a_n - a_{n - 1} + 1) = 0
$$

由于 $a$ 各项为负数，$a_n + a_{n - 1} \ne 0$，因此 $a_n - a_{n - 1} + 1 = 0$，即 $a_n - a_{n - 1} = -1$．

因此 $a$ 是一个首项为 $-1$，公差为 $-1$ 的等差数列，$a_n = -n, \quad n \in \N^\ast$．

:::

技巧：结构相似的式子相减得到的式子，一般通过因式分解处理．

原理：$a^n + b^n$ 一定含有因式 $a + b$，$a^n - b^n$ 一定含有因式 $a - b$（$n \in \N^\ast$），而结构相似的式子相减往往会出现大量 $a^n \pm b^n$，因此结果往往能因式分解．

:::info 例题 5.3

已知数列 $a$ 满足 $a_1 = 1$，$a_{n + 1} - a_n = n, \quad n \in \N^\ast$，求数列 $a$ 的通项公式．

:::

原题相当于给定了 $a$ 的 $D$ 数列，让我们求数列 $a$．只需对数列 $D$ 做前缀和即可得到数列 $a$．

:::tip 例题 5.3 解答（非标准）

由题可知，

$$
D_n = \begin{cases}
1, & n = 1 \\
n - 1, & n \ge 2
\end{cases}
$$

需要注意一下差分数组的定义是 $D_n = a_n - a_{n - 1}$，因此条件的 $n \to n - 1$ 后等号右侧才是 $D_n$．

对 $D$ 做前缀和可得

$$
a_n = \begin{cases}
1, & n = 1 \\
1 + 1 + 2 + \cdots + n - 1 = \dfrac{n^2 - n + 2}2, & n \ge 2
\end{cases}
$$

这里一定要先分开算，因为 $1 + 2 + \cdots + n - 1$ 这种式子的计算往往涉及到等差 / 等比数列的求和（后面学习），但 **求和公式可能只在数列非空时正确**，即上式中 $n \ge 2$ 的时候能保证正确，但 $n = 1$ 时 $1 + 2 + \cdots + n - 1$ 任意一项均不存在，即数列为空，此时求和公式可能会失效（即公式算出来的和可能不是正确的 $0$），虽然在这个例子中不会．

分开算完之后，我们再检查两种情况下是否能合并．本例中可以，因此合并写成

$$
a_n = \dfrac{n^2 - n + 2}2
$$

:::

下面写一下标准过程的写法．

:::tip 5.3 解答（标准过程）

当 $n = 1$ 时，$a_1 = 1$．

当 $n \ge 2$ 时，

$$
\begin{aligned}
a_n &= a_1 + (a_2 - a_1) + (a_3 - a_2) + \cdots + (a_n - a_{n - 1}) \\
&= 1 + 1 + 2 + \cdots + n - 1 \\
&= \dfrac{n^2 - n + 2}2
\end{aligned}
$$

计算得两种情况可合并，因此 $a_n = \dfrac{n^2 - n + 2}2$．

这里 $n = 1$ 和 $n \ge 2$ 需要分开计算的原因也是同理的：求和公式在数列为空时可能失效．

:::

出题人可能会对 $a_n - a_{n - 1} = f(n)$ 这个式子做一些变形，如 $2a_{n - 1} + f(n) = 2a_n$，记得识别这些变形后的条件也相当于给出了差分数列．

## 前缀积与比分

对于所有项均不为 $0$ 的数列 $a$，其可以生成两个数列：

$$
T\colon T_n = \prod_{i = 1}^n a_i = T_{n - 1} \cdot a_n
$$

称 $T$ 为 $a$ 的 **前 $n$ 项积**．后面称之为 **前缀积**，且记 $T(a)$ 为 $a$ 的前缀积．

$$
R \colon R_n = \begin{cases}
a_1, & n = 1 \\[1em]
\dfrac{a_n}{a_{n - 1}}, & n \ge 2
\end{cases}
$$

称 $R$ 为 $a$ 的「比分」，且记 $R(a)$ 为 $a$ 的「比分」．

结论：**前缀积** 与「**比分**」为一对逆运算，即

$$
T(a) = b \iff R(b) = a
$$

前缀积、「比分」与前缀和、差分的关系是非常类似的，可以说只改了一个符号．因此前缀积、「比分」相关的题型不再过多赘述．

了解到这里铺垫就已经足够了，接下来我们将正式进入两大基本数列：等差数列、等比数列的学习．
